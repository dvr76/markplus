const e="https://api.thumbmarkjs.com",t={exclude:[],include:[],stabilize:["private","iframe"],logging:!0,timeout:5e3,cache_api_call:!0,performance:!1,experimental:!1};let n={...t};function o(e,t){n[e]=t}const r={private:[{exclude:["canvas"],browsers:["firefox","safari>=17","brave"]},{exclude:["audio"],browsers:["samsungbrowser","safari"]},{exclude:["fonts"],browsers:["firefox"]},{exclude:["audio.sampleHash","hardware.deviceMemory","header.acceptLanguage.q","system.hardwareConcurrency","plugins"],browsers:["brave"]},{exclude:["tls.extensions"],browsers:["firefox","chrome","safari"]},{exclude:["header.acceptLanguage"],browsers:["edge","chrome"]}],iframe:[{exclude:["permissions.camera","permission.geolocation","permissions.microphone","system.applePayVersion","system.cookieEnabled"],browsers:["safari"]}],vpn:[{exclude:["ip"]}]};function i(e){let t=0;for(let n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}function a(e,t,n){let o=[];for(let t=0;t<e[0].data.length;t++){let n=[];for(let o=0;o<e.length;o++)n.push(e[o].data[t]);o.push(s(n))}const r=new Uint8ClampedArray(o);return new ImageData(r,t,n)}function s(e){if(0===e.length)return 0;const t={};for(const n of e)t[n]=(t[n]||0)+1;let n=e[0];for(const e in t)t[e]>t[n]&&(n=parseInt(e,10));return n}function c(e){return e^=e>>>16,e=Math.imul(e,2246822507),e^=e>>>13,e=Math.imul(e,3266489909),(e^=e>>>16)>>>0}const u=new Uint32Array([597399067,2869860233,951274213,2716044179]);function l(e,t){return e<<t|e>>>32-t}function d(e,t=0){var n;if(t=t?0|t:0,"string"==typeof e&&(n=e,e=(new TextEncoder).encode(n).buffer),!(e instanceof ArrayBuffer))throw new TypeError("Expected key to be ArrayBuffer or string");const o=new Uint32Array([t,t,t,t]);!function(e,t){const n=e.byteLength/16|0,o=new Uint32Array(e,0,4*n);for(let e=0;e<n;e++){const n=o.subarray(4*e,4*(e+1));n[0]=Math.imul(n[0],u[0]),n[0]=l(n[0],15),n[0]=Math.imul(n[0],u[1]),t[0]=t[0]^n[0],t[0]=l(t[0],19),t[0]=t[0]+t[1],t[0]=Math.imul(t[0],5)+1444728091,n[1]=Math.imul(n[1],u[1]),n[1]=l(n[1],16),n[1]=Math.imul(n[1],u[2]),t[1]=t[1]^n[1],t[1]=l(t[1],17),t[1]=t[1]+t[2],t[1]=Math.imul(t[1],5)+197830471,n[2]=Math.imul(n[2],u[2]),n[2]=l(n[2],17),n[2]=Math.imul(n[2],u[3]),t[2]=t[2]^n[2],t[2]=l(t[2],15),t[2]=t[2]+t[3],t[2]=Math.imul(t[2],5)+2530024501,n[3]=Math.imul(n[3],u[3]),n[3]=l(n[3],18),n[3]=Math.imul(n[3],u[0]),t[3]=t[3]^n[3],t[3]=l(t[3],13),t[3]=t[3]+t[0],t[3]=Math.imul(t[3],5)+850148119}}(e,o),function(e,t){const n=e.byteLength/16|0,o=e.byteLength%16,r=new Uint32Array(4),i=new Uint8Array(e,16*n,o);switch(o){case 15:r[3]=r[3]^i[14]<<16;case 14:r[3]=r[3]^i[13]<<8;case 13:r[3]=r[3]^i[12],r[3]=Math.imul(r[3],u[3]),r[3]=l(r[3],18),r[3]=Math.imul(r[3],u[0]),t[3]=t[3]^r[3];case 12:r[2]=r[2]^i[11]<<24;case 11:r[2]=r[2]^i[10]<<16;case 10:r[2]=r[2]^i[9]<<8;case 9:r[2]=r[2]^i[8],r[2]=Math.imul(r[2],u[2]),r[2]=l(r[2],17),r[2]=Math.imul(r[2],u[3]),t[2]=t[2]^r[2];case 8:r[1]=r[1]^i[7]<<24;case 7:r[1]=r[1]^i[6]<<16;case 6:r[1]=r[1]^i[5]<<8;case 5:r[1]=r[1]^i[4],r[1]=Math.imul(r[1],u[1]),r[1]=l(r[1],16),r[1]=Math.imul(r[1],u[2]),t[1]=t[1]^r[1];case 4:r[0]=r[0]^i[3]<<24;case 3:r[0]=r[0]^i[2]<<16;case 2:r[0]=r[0]^i[1]<<8;case 1:r[0]=r[0]^i[0],r[0]=Math.imul(r[0],u[0]),r[0]=l(r[0],15),r[0]=Math.imul(r[0],u[1]),t[0]=t[0]^r[0]}}(e,o),function(e,t){t[0]=t[0]^e.byteLength,t[1]=t[1]^e.byteLength,t[2]=t[2]^e.byteLength,t[3]=t[3]^e.byteLength,t[0]=t[0]+t[1]|0,t[0]=t[0]+t[2]|0,t[0]=t[0]+t[3]|0,t[1]=t[1]+t[0]|0,t[2]=t[2]+t[0]|0,t[3]=t[3]+t[0]|0,t[0]=c(t[0]),t[1]=c(t[1]),t[2]=c(t[2]),t[3]=c(t[3]),t[0]=t[0]+t[1]|0,t[0]=t[0]+t[2]|0,t[0]=t[0]+t[3]|0,t[1]=t[1]+t[0]|0,t[2]=t[2]+t[0]|0,t[3]=t[3]+t[0]|0}(e,o);const r=new Uint8Array(o.buffer);return Array.from(r).map((e=>e.toString(16).padStart(2,"0"))).join("")}const m=280;function p(e,t){return new Promise((n=>setTimeout(n,e,t)))}const h=["Arial","Arial Black","Arial Narrow","Arial Rounded MT","Arimo","Archivo","Barlow","Bebas Neue","Bitter","Bookman","Calibri","Cabin","Candara","Century","Century Gothic","Comic Sans MS","Constantia","Courier","Courier New","Crimson Text","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Dosis","Droid Sans","Exo","Fira Code","Fira Sans","Franklin Gothic Medium","Garamond","Geneva","Georgia","Gill Sans","Helvetica","Impact","Inconsolata","Indie Flower","Inter","Josefin Sans","Karla","Lato","Lexend","Lucida Bright","Lucida Console","Lucida Sans Unicode","Manrope","Merriweather","Merriweather Sans","Montserrat","Myriad","Noto Sans","Nunito","Nunito Sans","Open Sans","Optima","Orbitron","Oswald","Pacifico","Palatino","Perpetua","PT Sans","PT Serif","Poppins","Prompt","Public Sans","Quicksand","Rajdhani","Recursive","Roboto","Roboto Condensed","Rockwell","Rubik","Segoe Print","Segoe Script","Segoe UI","Sora","Source Sans Pro","Space Mono","Tahoma","Taviraj","Times","Times New Roman","Titillium Web","Trebuchet MS","Ubuntu","Varela Round","Verdana","Work Sans"],f=["monospace","sans-serif","serif"];function g(e,t){if(!e)throw new Error("Canvas context not supported");return e.font=`72px ${t}`,e.measureText("WwMmLli0Oo").width}function w(){var e;const t=document.createElement("canvas"),n=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(n&&"getParameter"in n)try{const e=(n.getParameter(n.VENDOR)||"").toString(),t=(n.getParameter(n.RENDERER)||"").toString();let o={vendor:e,renderer:t,version:(n.getParameter(n.VERSION)||"").toString(),shadingLanguageVersion:(n.getParameter(n.SHADING_LANGUAGE_VERSION)||"").toString()};if(!t.length||!e.length){const e=n.getExtension("WEBGL_debug_renderer_info");if(e){const t=(n.getParameter(e.UNMASKED_VENDOR_WEBGL)||"").toString(),r=(n.getParameter(e.UNMASKED_RENDERER_WEBGL)||"").toString();t&&(o.vendorUnmasked=t),r&&(o.rendererUnmasked=r)}}return o}catch(e){}return"undefined"}function y(){const e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}const v=(e,t,n,o)=>{const r=(n-t)/o;let i=0;for(let n=0;n<o;n++){i+=e(t+(n+.5)*r)}return i*r};function S(e,t){const n={};return t.forEach((t=>{const o=function(e){if(0===e.length)return null;const t={};e.forEach((e=>{const n=String(e);t[n]=(t[n]||0)+1}));let n=e[0],o=1;return Object.keys(t).forEach((e=>{t[e]>o&&(n=e,o=t[e])})),n}(e.map((e=>t in e?e[t]:void 0)).filter((e=>void 0!==e)));o&&(n[t]=o)})),n}const b=["accelerometer","accessibility","accessibility-events","ambient-light-sensor","background-fetch","background-sync","bluetooth","camera","clipboard-read","clipboard-write","device-info","display-capture","gyroscope","geolocation","local-fonts","magnetometer","microphone","midi","nfc","notifications","payment-handler","persistent-storage","push","speaker","storage-access","top-level-storage-access","window-management","query"];function A(){var e,t,n,o,r,i;if("undefined"==typeof navigator)return{name:"unknown",version:"unknown"};const a=navigator.userAgent,s=[/(?<name>SamsungBrowser)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>EdgA|EdgiOS|Edg)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>OPR|OPX)\/(?<version>\d+(?:\.\d+)+)/,/Opera[\s\/](?<version>\d+(?:\.\d+)+)/,/Opera Mini\/(?<version>\d+(?:\.\d+)+)/,/Opera Mobi\/(?<version>\d+(?:\.\d+)+)/,/(?<name>Vivaldi)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>Brave)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>CriOS)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>FxiOS)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>Chrome|Chromium)\/(?<version>\d+(?:\.\d+)+)/,/(?<name>Firefox|Waterfox|Iceweasel|IceCat)\/(?<version>\d+(?:\.\d+)+)/,/Version\/(?<version1>[\d.]+).*Safari\/[\d.]+|(?<name>Safari)\/(?<version2>[\d.]+)/,/(?<name>MSIE|Trident|IEMobile).+?(?<version>\d+(?:\.\d+)+)/,/(?<name>[A-Za-z]+)\/(?<version>\d+(?:\.\d+)+)/],c={edg:"Edge",edga:"Edge",edgios:"Edge",opr:"Opera",opx:"Opera",crios:"Chrome",fxios:"Firefox",samsung:"SamsungBrowser",vivaldi:"Vivaldi",brave:"Brave"};for(const u of s){const s=a.match(u);if(s){let a=null===(e=s.groups)||void 0===e?void 0:e.name,l=(null===(t=s.groups)||void 0===t?void 0:t.version)||(null===(n=s.groups)||void 0===n?void 0:n.version1)||(null===(o=s.groups)||void 0===o?void 0:o.version2);if(a||!(null===(r=s.groups)||void 0===r?void 0:r.version1)&&!(null===(i=s.groups)||void 0===i?void 0:i.version2)||(a="Safari"),!a&&u.source.includes("Opera Mini")&&(a="Opera Mini"),!a&&u.source.includes("Opera Mobi")&&(a="Opera Mobi"),!a&&u.source.includes("Opera")&&(a="Opera"),!a&&s[1]&&(a=s[1]),!l&&s[2]&&(l=s[2]),a){return{name:c[a.toLowerCase()]||a,version:l||"unknown"}}}}return{name:"unknown",version:"unknown"}}function C(){if("undefined"==typeof navigator||!navigator.userAgent)return!1;const e=navigator.userAgent;return/Mobi|Android|iPhone|iPod|IEMobile|Opera Mini|Opera Mobi|webOS|BlackBerry|Windows Phone/i.test(e)&&!/iPad/i.test(e)}function P(){let e=[];const t={"prefers-contrast":["high","more","low","less","forced","no-preference"],"any-hover":["hover","none"],"any-pointer":["none","coarse","fine"],pointer:["none","coarse","fine"],hover:["hover","none"],update:["fast","slow"],"inverted-colors":["inverted","none"],"prefers-reduced-motion":["reduce","no-preference"],"prefers-reduced-transparency":["reduce","no-preference"],scripting:["none","initial-only","enabled"],"forced-colors":["active","none"]};return Object.keys(t).forEach((n=>{t[n].forEach((t=>{matchMedia(`(${n}: ${t})`).matches&&e.push(`${n}: ${t}`)}))})),e}function E(){if("https:"===window.location.protocol&&"function"==typeof window.ApplePaySession)try{const e=window.ApplePaySession.supportsVersion;for(let t=15;t>0;t--)if(e(t))return t}catch(e){return 0}return 0}const T="SamsungBrowser"!==A().name?1:3;let x,M=null;function I(){const e=navigator.userAgent,t=e.match(/Chrome\/(\d+)/);if(t&&parseInt(t[1])>=70)return!0;const n=e.match(/Firefox\/(\d+)/);if(n&&parseInt(n[1])>=63)return!0;const o=e.match(/Version\/(\d+\.\d+)/);if(o&&parseFloat(o[1])>=12.1)return!0;const r=e.match(/Edg\/(\d+)/);return!!(r&&parseInt(r[1])>=79)}function _(){const e=[];return("CertificateTransparency"in window||window.trustedTypes)&&e.push("CertificateTransparency"),window.isSecureContext&&e.push("SubjectAltName"),"https:"===window.location.protocol&&e.push("OCSPStapling"),navigator.connection&&navigator.connection.effectiveType&&e.push("NetworkInfo"),e}function k(){const e=navigator.userAgent,t=e.match(/Chrome\/(\d+)/);if(t&&parseInt(t[1])>=41)return!0;const n=e.match(/Firefox\/(\d+)/);if(n&&parseInt(n[1])>=36)return!0;const o=e.match(/Version\/(\d+)/);if(o&&parseInt(o[1])>=9)return!0;const r=e.match(/Edge\/(\d+)/);return!!(r&&parseInt(r[1])>=12)}function R(){const e=navigator.userAgent,t=e.match(/Chrome\/(\d+)/);if(t&&parseInt(t[1])>=87)return!0;const n=e.match(/Firefox\/(\d+)/);if(n&&parseInt(n[1])>=88)return!0;const o=e.match(/Version\/(\d+)/);return!!(o&&parseInt(o[1])>=14)}function L(){const e=[];if("undefined"!=typeof HTMLImageElement){"importance"in document.createElement("img")&&e.push("priority-hints")}if(function(){const e=navigator.userAgent,t=e.match(/Chrome\/(\d+)/);if(t&&parseInt(t[1])>=103)return!0;const n=e.match(/Firefox\/(\d+)/);return!!(n&&parseInt(n[1])>=103)}()&&e.push("early-hints"),"PerformanceServerTiming"in window&&e.push("server-timing"),"PerformanceNavigationTiming"in window&&e.push("navigation-timing"),"PerformanceResourceTiming"in window&&e.push("resource-timing"),"connection"in navigator&&e.push("network-information"),"ReportingObserver"in window&&e.push("reporting-api"),("featurePolicy"in document||"permissionsPolicy"in document)&&e.push("permissions-policy"),void 0!==window.crossOriginIsolated&&e.push("cross-origin-isolated"),"undefined"!=typeof HTMLLinkElement){"fetchPriority"in document.createElement("link")&&e.push("fetch-priority")}if("supports"in HTMLScriptElement&&HTMLScriptElement.supports)try{HTMLScriptElement.supports("speculationrules")&&e.push("speculation-rules")}catch(e){}return e}function O(){const e=[];return navigator.userAgentData&&e.push("accept-ch"),e.push("accept-encoding"),e.push("accept-language"),"connection"in navigator&&navigator.connection&&"saveData"in navigator.connection&&e.push("save-data"),void 0===navigator.doNotTrack&&void 0===navigator.msDoNotTrack||e.push("dnt"),function(){const e=navigator.userAgent,t=e.match(/Chrome\/(\d+)/);if(t&&parseInt(t[1])>=90)return!0;const n=e.match(/Firefox\/(\d+)/);if(n&&parseInt(n[1])>=88)return!0;const o=e.match(/Version\/(\d+)/);return!!(o&&parseInt(o[1])>=14)}()&&(e.push("sec-fetch-site"),e.push("sec-fetch-mode"),e.push("sec-fetch-dest"),e.push("sec-fetch-user")),navigator.userAgentData&&(e.push("sec-ch-ua"),e.push("sec-ch-ua-mobile"),e.push("sec-ch-ua-platform")),"https:"===window.location.protocol&&e.push("upgrade-insecure-requests"),e}function D(e){try{const t=document.createElement("canvas");t.width=1,t.height=1;const n=`image/${e}`;return t.toDataURL(n).startsWith(`data:${n}`)}catch(e){return!1}}function H(){const e=navigator.userAgent,t=e.match(/Chrome\/(\d+)/);if(t&&parseInt(t[1])>=76)return!0;const n=e.match(/Firefox\/(\d+)/);return!!(n&&parseInt(n[1])>=90)}function F(){return!0===navigator.globalPrivacyControl}function N(){return void 0!==navigator.doNotTrack?navigator.doNotTrack:void 0!==window.doNotTrack?window.doNotTrack:void 0!==navigator.msDoNotTrack?navigator.msDoNotTrack:null}function B(){const e=[];if(navigator.userAgentData&&e.push("ua-client-hints"),"connection"in navigator&&e.push("network-information"),("permissionsPolicy"in document||"featurePolicy"in document)&&e.push("permissions-policy"),navigator.userAgentData&&"getHighEntropyValues"in navigator.userAgentData&&e.push("critical-ch"),"undefined"!=typeof document){document.querySelector('meta[name="viewport"]')&&e.push("viewport-meta")}return void 0!==navigator.deviceMemory&&e.push("device-memory"),"undefined"!=typeof document&&"referrerPolicy"in document&&e.push("referrer-policy"),e}function V(){const e={referrer:document.referrerPolicy||"default",crossOriginIsolated:window.crossOriginIsolated||!1};if("permissionsPolicy"in document){const t=document.permissionsPolicy;e.permissionsPolicy=!0;try{const n=[],o=["camera","microphone","geolocation","payment","usb","accelerometer","gyroscope","magnetometer"];for(const e of o)try{if(t.allowedFeatures&&t.allowedFeatures().includes(e))n.push(e);else if(t.getAllowlistForFeature){const o=t.getAllowlistForFeature(e);o&&o.length>0&&n.push(e)}}catch(e){}e.allowedFeatures=n}catch(e){}}else"featurePolicy"in document&&(e.featurePolicy=!0);return window.crossOriginIsolated&&(e.coop="enabled"),window.crossOriginIsolated&&(e.coep="enabled"),window.trustedTypes&&(e.trustedTypes=!0),e.secureContext=window.isSecureContext,e}const U=["ùîÑ","ùîÖ","‚Ñ≠","ùîá","ùîà","ùîâ","ùî∏","ùîπ","‚ÑÇ","ùîª","ùîº","ùîΩ"],W=["Œ≤","œà","Œª","Œµ","Œ∂","Œ±","Œæ","Œº","œÅ","œÜ","Œ∫","œÑ","Œ∑","œÉ","Œπ","œâ","Œ≥","ŒΩ","œá","Œ¥","Œ∏","œÄ","œÖ","Œø"];function $(e,t){return`<math><mrow>${t}</mrow></math>`}function j(){let e="<mo>‚àè</mo>";return U.forEach(((t,n)=>{const o=2*n,r=W.slice(o,o+2);2===r.length&&(e+=`<mmultiscripts><mi>${t}</mi><none/><mi>${r[1]}</mi><mprescripts></mprescripts><mi>${r[0]}</mi><none/></mmultiscripts>`)})),$(0,`<munderover><mmultiscripts>${e}</mmultiscripts></munderover>`)}function K(){const e=[];return U.forEach(((t,n)=>{const o=2*n,r=W.slice(o,o+2);2===r.length&&e.push($(0,`<mmultiscripts><mi>${t}</mi><none/><mi>${r[1]}</mi><mprescripts></mprescripts><mi>${r[0]}</mi><none/></mmultiscripts>`))})),e}const G={audio:async function(){return async function(){return new Promise(((e,t)=>{try{const t=44100,n=5e3,o=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,n,t),r=o.createBufferSource(),a=o.createOscillator();a.frequency.value=1e3;const s=o.createDynamicsCompressor();let c;s.threshold.value=-50,s.knee.value=40,s.ratio.value=12,s.attack.value=0,s.release.value=.2,a.connect(s),s.connect(o.destination),a.start(),o.oncomplete=t=>{c=t.renderedBuffer.getChannelData(0),e({sampleHash:i(c),maxChannels:o.destination.maxChannelCount,channelCountMode:r.channelCountMode})},o.startRendering()}catch(e){console.error("Error creating audio fingerprint:",e),t(e)}}))}()},canvas:async function(){return new Promise((e=>{const t=Array.from({length:3},(()=>function(){const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)return new ImageData(1,1);e.width=m,e.height=20;const n=t.createLinearGradient(0,0,e.width,e.height);n.addColorStop(0,"red"),n.addColorStop(1/6,"orange"),n.addColorStop(2/6,"yellow"),n.addColorStop(.5,"green"),n.addColorStop(4/6,"blue"),n.addColorStop(5/6,"indigo"),n.addColorStop(1,"violet"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height);const o="Random Text WMwmil10Oo";t.font="23.123px Arial",t.fillStyle="black",t.fillText(o,-5,15),t.fillStyle="rgba(0, 0, 255, 0.5)",t.fillText(o,-3.3,17.7),t.beginPath(),t.moveTo(0,0),t.lineTo(2*e.width/7,e.height),t.strokeStyle="white",t.lineWidth=2,t.stroke();const r=t.getImageData(0,0,e.width,e.height);return r}()));e({commonPixelsHash:d(a(t,m,20).data.toString()).toString()})}))},fonts:async function(e){return new Promise(((e,t)=>{try{!async function(e){for(var t;!document.body;)await p(50);const n=document.createElement("iframe");n.setAttribute("frameBorder","0");const o=n.style;o.setProperty("position","fixed"),o.setProperty("display","block","important"),o.setProperty("visibility","visible"),o.setProperty("border","0"),o.setProperty("opacity","0"),n.src="about:blank",document.body.appendChild(n);const r=n.contentDocument||(null===(t=n.contentWindow)||void 0===t?void 0:t.document);if(!r)throw new Error("Iframe document is not accessible");e({iframe:r}),setTimeout((()=>{document.body.removeChild(n)}),0)}((async({iframe:t})=>{const n=t.createElement("canvas").getContext("2d"),o=f.map((e=>g(n,e)));let r={};h.forEach((e=>{const t=g(n,e);o.includes(t)||(r[e]=t)})),e(r)}))}catch(e){t({error:"unsupported"})}}))},hardware:function(){return new Promise(((e,t)=>{const n=void 0!==navigator.deviceMemory?navigator.deviceMemory:0,o=window.performance&&window.performance.memory?window.performance.memory:0;e({videocard:w(),architecture:y(),deviceMemory:n.toString()||"undefined",jsHeapSizeLimit:o.jsHeapSizeLimit||0})}))},locales:function(){return new Promise((e=>{e({languages:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})}))},math:function(){return new Promise((e=>{e({acos:Math.acos(.5),asin:v(Math.asin,-1,1,97),cos:v(Math.cos,0,Math.PI,97),largeCos:Math.cos(1e20),largeSin:Math.sin(1e20),largeTan:Math.tan(1e20),sin:v(Math.sin,-Math.PI,Math.PI,97),tan:v(Math.tan,0,2*Math.PI,97)})}))},permissions:async function(e){let t=(null==e?void 0:e.permissions_to_check)||b;const n=Array.from({length:3},(()=>async function(e){const t={};for(const n of e)try{const e=await navigator.permissions.query({name:n});t[n]=e.state.toString()}catch(e){}return t}(t)));return Promise.all(n).then((e=>S(e,t)))},plugins:async function(){const e=[];if(navigator.plugins)for(let t=0;t<navigator.plugins.length;t++){const n=navigator.plugins[t];e.push([n.name,n.filename,n.description].join("|"))}return new Promise((t=>{t({plugins:e})}))},screen:function(){return new Promise((e=>{const t={is_touchscreen:navigator.maxTouchPoints>0,maxTouchPoints:navigator.maxTouchPoints,colorDepth:screen.colorDepth,mediaMatches:P()};C()&&navigator.maxTouchPoints>0&&(t.resolution=function(){const e=window.screen.width,t=window.screen.height,n=Math.max(e,t).toString(),o=Math.min(e,t).toString();return`${n}x${o}`}()),e(t)}))},system:function(){return new Promise((e=>{const t=A();e({platform:window.navigator.platform,productSub:navigator.productSub,product:navigator.product,useragent:navigator.userAgent,hardwareConcurrency:navigator.hardwareConcurrency,browser:{name:t.name,version:t.version},mobile:C(),applePayVersion:E(),cookieEnabled:window.navigator.cookieEnabled})}))},webgl:async function(){"undefined"!=typeof document&&(x=document.createElement("canvas"),x.width=200,x.height=100,M=x.getContext("webgl"));try{if(!M)throw new Error("WebGL not supported");const e=Array.from({length:T},(()=>function(){try{if(!M)throw new Error("WebGL not supported");const e="\n          attribute vec2 position;\n          void main() {\n              gl_Position = vec4(position, 0.0, 1.0);\n          }\n      ",t="\n          precision mediump float;\n          void main() {\n              gl_FragColor = vec4(0.812, 0.195, 0.553, 0.921); // Set line color\n          }\n      ",n=M.createShader(M.VERTEX_SHADER),o=M.createShader(M.FRAGMENT_SHADER);if(!n||!o)throw new Error("Failed to create shaders");if(M.shaderSource(n,e),M.shaderSource(o,t),M.compileShader(n),!M.getShaderParameter(n,M.COMPILE_STATUS))throw new Error("Vertex shader compilation failed: "+M.getShaderInfoLog(n));if(M.compileShader(o),!M.getShaderParameter(o,M.COMPILE_STATUS))throw new Error("Fragment shader compilation failed: "+M.getShaderInfoLog(o));const r=M.createProgram();if(!r)throw new Error("Failed to create shader program");if(M.attachShader(r,n),M.attachShader(r,o),M.linkProgram(r),!M.getProgramParameter(r,M.LINK_STATUS))throw new Error("Shader program linking failed: "+M.getProgramInfoLog(r));M.useProgram(r);const i=137,a=new Float32Array(4*i),s=2*Math.PI/i;for(let e=0;e<i;e++){const t=e*s;a[4*e]=0,a[4*e+1]=0,a[4*e+2]=Math.cos(t)*(x.width/2),a[4*e+3]=Math.sin(t)*(x.height/2)}const c=M.createBuffer();M.bindBuffer(M.ARRAY_BUFFER,c),M.bufferData(M.ARRAY_BUFFER,a,M.STATIC_DRAW);const u=M.getAttribLocation(r,"position");M.enableVertexAttribArray(u),M.vertexAttribPointer(u,2,M.FLOAT,!1,0,0),M.viewport(0,0,x.width,x.height),M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT),M.drawArrays(M.LINES,0,2*i);const l=new Uint8ClampedArray(x.width*x.height*4);M.readPixels(0,0,x.width,x.height,M.RGBA,M.UNSIGNED_BYTE,l);return new ImageData(l,x.width,x.height)}catch(e){return new ImageData(1,1)}finally{M&&(M.bindBuffer(M.ARRAY_BUFFER,null),M.useProgram(null),M.viewport(0,0,M.drawingBufferWidth,M.drawingBufferHeight),M.clearColor(0,0,0,0))}}()));return{commonPixelsHash:d(a(e,x.width,x.height).data.toString()).toString()}}catch(e){return{webgl:"unsupported"}}},tls:async function(){const e=await async function(){const e={subtle:!1,algorithms:[],keyUsages:[],ellipticCurves:[],hashAlgorithms:[],signatureAlgorithms:[]};if(!window.crypto||!window.crypto.subtle)return e;e.subtle=!0;const t=["AES-CBC","AES-CTR","AES-GCM","AES-KW"],n=["RSA-OAEP","RSA-PSS","RSASSA-PKCS1-v1_5","ECDSA","ECDH"],o=[...t,...n,"HMAC","PBKDF2","HKDF"];for(const n of o)try{let o=!1;t.includes(n)?await window.crypto.subtle.generateKey({name:n,length:256},!1,["encrypt","decrypt"]).then((()=>{o=!0})).catch((()=>{})):"RSA-OAEP"===n||"RSA-PSS"===n||"RSASSA-PKCS1-v1_5"===n?await window.crypto.subtle.generateKey({name:n,modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!1,"RSA-OAEP"===n?["encrypt","decrypt"]:["sign","verify"]).then((()=>{o=!0})).catch((()=>{})):"ECDSA"!==n&&"ECDH"!==n||await window.crypto.subtle.generateKey({name:n,namedCurve:"P-256"},!1,"ECDSA"===n?["sign","verify"]:["deriveKey","deriveBits"]).then((()=>{o=!0})).catch((()=>{})),o&&e.algorithms.push(n)}catch(e){}const r=["P-256","P-384","P-521"];for(const t of r)try{await window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:t},!1,["sign","verify"]),e.ellipticCurves.push(t)}catch(e){}const i=["SHA-1","SHA-256","SHA-384","SHA-512"];for(const t of i)try{await window.crypto.subtle.digest(t,new Uint8Array([1,2,3])),e.hashAlgorithms.push(t)}catch(e){}const a=["encrypt","decrypt","sign","verify","deriveKey","deriveBits","wrapKey","unwrapKey"];e.keyUsages=a,e.algorithms.includes("ECDSA")&&e.signatureAlgorithms.push("ECDSA");e.algorithms.includes("RSA-PSS")&&e.signatureAlgorithms.push("RSA-PSS");e.algorithms.includes("RSASSA-PKCS1-v1_5")&&e.signatureAlgorithms.push("RSASSA-PKCS1-v1_5");return e}(),t=function(){const e={secureContext:window.isSecureContext||!1,protocols:{tls10:!1,tls11:!1,tls12:!0,tls13:I()},features:[]};"crypto"in window&&"subtle"in window.crypto&&e.features.push("WebCrypto");window.isSecureContext&&e.features.push("SecureContext");"RTCPeerConnection"in window&&e.features.push("DTLS");void 0!==window.PerformanceResourceTiming&&e.features.push("ResourceTiming");"connection"in navigator&&e.features.push("NetworkInformation");"https:"===window.location.protocol&&e.features.push("HTTPS");return e}(),n=await async function(){const e=[];if(!window.crypto||!window.crypto.subtle)return e;try{await window.crypto.subtle.generateKey({name:"AES-GCM",length:128},!1,["encrypt","decrypt"]),e.push("TLS_AES_128_GCM_SHA256"),await window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),e.push("TLS_AES_256_GCM_SHA384")}catch(e){}(function(){const e=navigator.userAgent,t=e.match(/Chrome\/(\d+)/);if(t&&parseInt(t[1])>=90)return!0;const n=e.match(/Firefox\/(\d+)/);if(n&&parseInt(n[1])>=85)return!0;const o=e.match(/Version\/(\d+)/);return!!(o&&parseInt(o[1])>=14)})()&&e.push("TLS_CHACHA20_POLY1305_SHA256");try{await window.crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey"]),e.push("TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"),e.push("TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384")}catch(e){}try{await window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!1,["encrypt","decrypt"]),e.push("TLS_RSA_WITH_AES_128_GCM_SHA256"),e.push("TLS_RSA_WITH_AES_256_GCM_SHA384")}catch(e){}return e}();return{secureContext:t.secureContext,protocols:t.protocols,crypto:{subtle:e.subtle,algorithms:e.algorithms,keyUsages:e.keyUsages,curves:e.ellipticCurves,hashes:e.hashAlgorithms,signatures:e.signatureAlgorithms},cipherSupport:n,features:t.features,certFeatures:_()}},protocol:async function(){const e=await async function(){const e={http1:!0,http2:!1,http3:!1,detection_method:"performance-api"};if("undefined"!=typeof PerformanceObserver&&"PerformanceResourceTiming"in window){const t=performance.getEntriesByType("navigation");if(t.length>0){const n=t[0];if(n.nextHopProtocol){const t=n.nextHopProtocol.toLowerCase();(t.includes("h2")||"http/2"===t||"http/2.0"===t)&&(e.http2=!0),(t.includes("h3")||"http/3"===t||"http/3.0"===t||"quic"===t)&&(e.http3=!0)}}const n=performance.getEntriesByType("resource");for(const t of n)if(t.nextHopProtocol){const n=t.nextHopProtocol.toLowerCase();n.includes("h2")&&(e.http2=!0),(n.includes("h3")||n.includes("quic"))&&(e.http3=!0)}}e.http2||(e.http2=k());e.http3||(e.http3=R());return e}(),t={websocket:"WebSocket"in window,webrtc:"RTCPeerConnection"in window||"webkitRTCPeerConnection"in window||"mozRTCPeerConnection"in window,sse:"EventSource"in window,webTransport:"WebTransport"in window,webtorrent:"RTCPeerConnection"in window&&"WebSocket"in window},n=function(){const e={preconnect:!1,prefetch:!1,prerender:!1,preload:!1,dns_prefetch:!1,modulepreload:!1};if("undefined"!=typeof document){const t=document.createElement("link").relList;t?(e.preconnect=!t.supports||t.supports("preconnect"),e.prefetch=!t.supports||t.supports("prefetch"),e.prerender=!!t.supports&&t.supports("prerender"),e.preload=!t.supports||t.supports("preload"),e.dns_prefetch=!t.supports||t.supports("dns-prefetch"),e.modulepreload=!!t.supports&&t.supports("modulepreload")):(e.preconnect=!0,e.prefetch=!0,e.dns_prefetch=!0,e.preload=!0)}return e}();return{http:e,alpn:await async function(){const e=[];e.push("http/1.1");const t=performance.getEntriesByType("navigation");if(t.length>0){const n=t[0];if(n.nextHopProtocol){const t=n.nextHopProtocol.toLowerCase();e.includes(t)||e.push(t)}}k()&&!e.some((e=>e.includes("h2")))&&e.push("h2");R()&&!e.some((e=>e.includes("h3")))&&e.push("h3");return e}(),extensions:t,resourceHints:n,features:L(),headers:O()}},headers:async function(){return{clientHints:await async function(){const e={supported:!1,brands:[],mobile:!1,platform:""};if(navigator.userAgentData){const t=navigator.userAgentData;e.supported=!0,e.brands=t.brands||[],e.mobile=t.mobile||!1,e.platform=t.platform||"";try{const n=await t.getHighEntropyValues(["architecture","bitness","model","platformVersion","fullVersionList","wow64"]);e.architecture=n.architecture,e.bitness=n.bitness,e.model=n.model,e.platformVersion=n.platformVersion,e.fullVersionList=n.fullVersionList,e.wow64=n.wow64}catch(e){}}return e}(),accept:function(){const e={language:[],languageHeader:"",encoding:[],contentTypes:{html:!0,xml:!0,json:!0,webp:!1,avif:!1,jxl:!1}};navigator.languages?e.language=Array.from(navigator.languages):navigator.language&&(e.language=[navigator.language]);return e.languageHeader=function(e){return 0===e.length?"":e.map(((e,t)=>{if(0===t)return e;return`${e};q=${Math.max(.1,1-.1*t).toFixed(1)}`})).join(", ")}(e.language),e.encoding=["gzip","deflate","br"],e.contentTypes.webp=D("webp"),e.contentTypes.avif=D("avif"),e.contentTypes.jxl=D("jxl"),e}(),security:{fetchSite:H(),fetchMode:H(),fetchDest:H(),fetchUser:H(),gpc:F(),dnt:N()},network:function(){const e={supported:!1};if("connection"in navigator){const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;t&&(e.supported=!0,e.saveData=t.saveData||!1,e.effectiveType=t.effectiveType||null,e.downlink=t.downlink||null,e.rtt=t.rtt||null,e.downlinkMax=t.downlinkMax||null,e.type=t.type||null)}return e}(),features:B(),policies:V()}}},z={webrtc:async function(){return new Promise((e=>{try{const t=window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection;if(!t)return void e({supported:!1,error:"WebRTC not supported"});const n=new t({iceCandidatePoolSize:1,iceServers:[]});n.createDataChannel("");(async()=>{try{const t={offerToReceiveAudio:!0,offerToReceiveVideo:!0},o=await n.createOffer(t);await n.setLocalDescription(o);const r=o.sdp||"",i=[...new Set((r.match(/extmap:\d+ [^\n\r]+/g)||[]).map((e=>e.replace(/extmap:\d+ /,""))))].sort(),a=e=>{const t=r.match(new RegExp(`m=${e} [^\\s]+ [^\\s]+ ([^\\n\\r]+)`));return t?t[1].split(" "):[]},s=(e,t)=>t.map((t=>{const n=new RegExp(`(rtpmap|fmtp|rtcp-fb):${t} (.+)`,"g"),o=[...r.matchAll(n)];if(!o.length)return null;const i={};return o.forEach((t=>{const[n,o,r]=t,a=r.split("/");"rtpmap"===o?(i.mimeType=`${e}/${a[0]}`,i.clockRate=+a[1],"audio"===e&&(i.channels=+a[2]||1)):"rtcp-fb"===o?(i.feedbackSupport=i.feedbackSupport||[],i.feedbackSupport.push(r)):"fmtp"===o&&(i.sdpFmtpLine=r)})),i})).filter(Boolean),c={audio:s("audio",a("audio")),video:s("video",a("video"))},u=await new Promise((e=>{const t=setTimeout((()=>{n.removeEventListener("icecandidate",o),n.close(),e({supported:!0,codecsSdp:c,extensions:i,timeout:!0})}),3e3),o=r=>{const a=r.candidate;a&&a.candidate&&(clearTimeout(t),n.removeEventListener("icecandidate",o),n.close(),e({supported:!0,codecsSdp:c,extensions:i,candidateType:a.type||""}))};n.addEventListener("icecandidate",o)}));e({hash:d(JSON.stringify(u))})}catch(t){n.close(),e({supported:!0,error:`WebRTC offer failed: ${t.message}`})}})()}catch(t){e({supported:!1,error:`WebRTC error: ${t.message}`})}}))},mathml:async function(){return new Promise((e=>{try{if(!function(){try{const e=document.createElement("math");e.innerHTML="<mrow><mi>x</mi></mrow>",e.style.position="absolute",e.style.visibility="hidden",document.body.appendChild(e);const t=e.getBoundingClientRect();return document.body.removeChild(e),t.width>0&&t.height>0}catch(e){return!1}}())return void e({supported:!1,error:"MathML not supported"});const t=[$("integral","<msubsup><mo>‚à´</mo><mi>a</mi><mi>b</mi></msubsup><mfrac><mrow><mi>f</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><mrow><mi>g</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mfrac><mi>dx</mi>"),$("fraction","<mfrac><mrow><mi>œÄ</mi><mo>√ó</mo><msup><mi>r</mi><mn>2</mn></msup></mrow><mrow><mn>2</mn><mi>œÉ</mi></mrow></mfrac>"),$("matrix","<mo>[</mo><mtable><mtr><mtd><mi>Œ±</mi></mtd><mtd><mi>Œ≤</mi></mtd></mtr><mtr><mtd><mi>Œ≥</mi></mtd><mtd><mi>Œ¥</mi></mtd></mtr></mtable><mo>]</mo>"),j(),...K()],n={};t.forEach(((e,t)=>{n[`struct_${t}`]=function(e){try{const t=document.createElement("math");t.innerHTML=e.replace(/<\/?math>/g,""),t.style.whiteSpace="nowrap",t.style.position="absolute",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);const n=t.getBoundingClientRect(),o=window.getComputedStyle(t),r={dimensions:{width:n.width,height:n.height},fontInfo:{fontFamily:o.fontFamily,fontSize:o.fontSize,fontWeight:o.fontWeight,fontStyle:o.fontStyle,lineHeight:o.lineHeight,fontVariant:o.fontVariant||"normal",fontStretch:o.fontStretch||"normal",fontSizeAdjust:o.fontSizeAdjust||"none",textRendering:o.textRendering||"auto",fontFeatureSettings:o.fontFeatureSettings||"normal",fontVariantNumeric:o.fontVariantNumeric||"normal",fontKerning:o.fontKerning||"auto"}};return document.body.removeChild(t),r}catch(e){return{error:e.message}}}(e)})),e({hash:d(JSON.stringify(n))})}catch(t){e({supported:!1,error:`MathML error: ${t.message}`})}}))}},q={},Y={timeout:"true"},J=(e,t,n)=>{q[e]=t};function X(){return"1.0.0"}function Z(e,t){var n;let o=A();if("unknown"===o.name&&e.system&&"object"==typeof e.system&&!Array.isArray(e.system)){const t=e.system.browser;if(t&&"object"==typeof t&&!Array.isArray(t)){const e=t;o={name:e.name||"unknown",version:e.version||"unknown"}}}const i=o.name.toLowerCase(),a=o.version.split(".")[0]||"0",s=parseInt(a,10),c=[...(null==t?void 0:t.exclude)||[]],u=(null==t?void 0:t.stabilize)||[],l=(null==t?void 0:t.include)||[];for(const e of u){const t=r[e];if(t)for(const e of t){const t=!("browsers"in e),o=!t&&(null===(n=e.browsers)||void 0===n?void 0:n.some((e=>{const t=e.match(/(.+?)(>=)(\d+)/);if(t){const[,e,,n]=t,o=parseInt(n,10);return i===e&&s>=o}return i===e})));(t||o)&&c.push(...e.exclude)}}return function e(t,n=""){const o={};for(const[r,i]of Object.entries(t)){const t=n?`${n}.${r}`:r;if("object"!=typeof i||Array.isArray(i)||null===i){const e=c.some((e=>t.startsWith(e))),n=l.some((e=>t.startsWith(e)));e&&!n||(o[r]=i)}else{const n=e(i,t);Object.keys(n).length>0&&(o[r]=n)}}return o}(e)}const Q="thumbmark_visitor_id";let ee=null,te=null;const ne=(t,n)=>{if(t.cache_api_call&&te)return Promise.resolve(te);if(ee)return ee;const o=`${e}/thumbmark`,r=function(){try{return localStorage.getItem(Q)}catch(e){return null}}(),i={components:n,options:t,clientHash:d(JSON.stringify(n)),version:"1.0.0"};r&&(i.visitorId=r);const a=fetch(o,{method:"POST",headers:{"x-api-key":t.api_key,Authorization:"custom-authorized","Content-Type":"application/json"},body:JSON.stringify(i)}).then((e=>{if(!e.ok){if(403===e.status)throw new Error("INVALID_API_KEY");throw new Error(`HTTP error! status: ${e.status}`)}return e.json()})).then((e=>(e.visitorId&&e.visitorId!==r&&function(e){try{localStorage.setItem(Q,e)}catch(e){}}(e.visitorId),te=e,ee=null,e))).catch((e=>{if(console.error("Error fetching pro data",e),ee=null,"INVALID_API_KEY"===e.message)throw e;return null})),s=t.timeout||5e3,c=new Promise((e=>{setTimeout((()=>{e({info:{timed_out:!0},version:"1.0.0"})}),s)}));return ee=Promise.race([a,c]),ee};async function oe(n){const o={...t,...n},r=o.logging&&!sessionStorage.getItem("_tmjs_l")&&Math.random()<1e-4,i={...G,...q},{elapsed:a,resolvedComponents:s}=await re(i,o);let c={};if(r||o.experimental){const{resolvedComponents:e}=await re(z,o);c=e}const u=o.api_key?ne(o,s):null;let l=null;if(u)try{l=await u}catch(e){if(e instanceof Error&&"INVALID_API_KEY"===e.message)return{error:"Invalid API key or quota exceeded",components:{},info:{},version:"1.0.0",thumbmark:""};throw e}const m=o.performance?{elapsed:a}:{},p=Z((null==l?void 0:l.components)||{},o),h={...s,...p},f=(null==l?void 0:l.info)||{uniqueness:{score:"api only"}},g=d(JSON.stringify(h));r&&async function(t,n,o,r={}){var i;const a=`${e}/log`,s={thumbmark:t,components:n,experimental:r,version:"1.0.0",options:o,path:null===(i=null===window||void 0===window?void 0:window.location)||void 0===i?void 0:i.pathname};sessionStorage.setItem("_tmjs_l","1");try{await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}catch(e){}}(g,h,o,c).catch((()=>{}));return{...(null==l?void 0:l.visitorId)&&{visitorId:l.visitorId},thumbmark:g,components:h,info:f,version:"1.0.0",...m,...Object.keys(c).length>0&&o.experimental&&{experimental:c}}}async function re(e,n){const o={...t,...n},r=Object.entries(e).filter((([e])=>{var t;return!(null===(t=null==o?void 0:o.exclude)||void 0===t?void 0:t.includes(e))})).filter((([e])=>{var t,n,r,i;return(null===(t=null==o?void 0:o.include)||void 0===t?void 0:t.some((e=>e.includes("."))))?null===(n=null==o?void 0:o.include)||void 0===n?void 0:n.some((t=>t.startsWith(e))):0===(null===(r=null==o?void 0:o.include)||void 0===r?void 0:r.length)||(null===(i=null==o?void 0:o.include)||void 0===i?void 0:i.includes(e))})),i=r.map((([e])=>e)),a=r.map((([e,t])=>t(n))),s=await function(e,t,n){return Promise.all(e.map((e=>{const o=performance.now();return Promise.race([e.then((e=>({value:e,elapsed:performance.now()-o}))),(r=t,i=n,new Promise((e=>{setTimeout((()=>e(i)),r)}))).then((e=>({value:e,elapsed:performance.now()-o})))]);var r,i})))}(a,(null==o?void 0:o.timeout)||5e3,Y),c={},u={};s.forEach(((e,t)=>{var n;null!=e.value&&(u[i[t]]=e.value,c[i[t]]=null!==(n=e.elapsed)&&void 0!==n?n:0)}));const l=Z(u,o);return{elapsed:c,resolvedComponents:l}}async function ie(){return(await oe(n)).components}async function ae(e){try{const t=await oe(n);return e?{hash:t.thumbmark.toString(),data:t.components}:t.thumbmark.toString()}catch(e){throw e}}async function se(){try{const{elapsed:e,resolvedComponents:t}=await re(G,n);return{...t,elapsed:e}}catch(e){throw e}}class ce{constructor(e){this.options={...t,...e}}async get(e){return oe({...this.options,...e})}getVersion(){return"1.0.0"}includeComponent(e,t){J(e,t)}}export{ce as Thumbmark,Z as filterThumbmarkData,ae as getFingerprint,ie as getFingerprintData,se as getFingerprintPerformance,oe as getThumbmark,X as getVersion,J as includeComponent,o as setOption,r as stabilizationExclusionRules};
//# sourceMappingURL=thumbmark.esm.js.map
